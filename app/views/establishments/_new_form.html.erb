<div class="container">
    <%= form_with model: @establishment do |f| %>
      <div class="mb-3">
        <%= f.label :name, {class: 'form-label'} %>
        <%= f.text_field :name, {class: 'form-control'} %>
      </div>
      <div class="mb-3">
        <%= f.label :address, {class: 'form-label'} %>
        <%= f.text_field :address, {class: 'form-control'},
              input_html: {data: {address_autocomplete_target: "address"}, class: "d-none"},
              wrapper_html: {data: {controller: "address-autocomplete", address_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}}
                %>

      </div>
      <div class="mb-3">
        <%= f.label :rating, {class: 'form-label'} %>
        <%= f.number_field :rating, {class: 'form-control'} %>
      </div>
      <div class="mb-3">
        <%= f.label :phone, {class: 'form-label'} %>
        <%= f.number_field :phone, {class: 'form-control'} %>
      </div>
      <div class="mb-3">
        <%= f.label :type, "Location-type", {class: 'form-label'} %>
        <%= f.collection_select :type, Establishment.types.keys, :to_s, :to_s, prompt: "Select a type" %>
      </div>
      <div class="mb-3">
        <%= f.label :image, {class: 'form-label'} %>
        <%= f.text_field :image, {class: 'form-control'} %>
      </div>
        <%= f.submit "Submit" %>
      </div>
    <% end %>
 </div>
